<?xml version="1.0" encoding="US-ASCII"?>
<!--
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 Copyright (c) 1999 - 2006 Applera Corporation.
 301 Merritt 7 
 P.O. Box 5435 
 Norwalk, CT 06856-5435 USA

 This is free software; you can redistribute it and/or modify it under the 
 terms of the GNU Lesser General Public License as published by the 
 Free Software Foundation; version 2.1 of the License.

 This software is distributed in the hope that it will be useful, but 
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. 
 See the GNU Lesser General Public License for more details.

 You should have received a copy of the GNU Lesser General Public License 
 along with this software; if not, write to the Free Software Foundation, Inc.
 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA 
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
-->

<project name="update-deploy-system" default="all">

   <property name="module-base-dir" value="${wl.home}"/>
   <property name="module"          value="api-build-deploy"/>
   <property name="module-path"     value="${module-base-dir}/${module}"/>
   <property name="src-subpath"     value="src/com/genomics/builddeploy/api"/>
   <property name="jsp-install-dir" value="${wl.home}/genomics/public_html/deploy"/>
   <property name="java-class-dir"  value="${module-path}/bin"/>
   <property name="cvs.root"        value=":pserver:cvsreader@dsc101a.genomics.com:/cm/cvs"/>

   <target name="all" depends="cvs-update,compile,deploy-jsp">
   </target>

   <target name="cvs-update">
      <cvs cvsRoot="${cvs.root}" dest="${module-base-dir}" package="${module}" command="update"/>
   </target>

   <target name="compile">
      <javac srcdir="${module-path}/${src-subpath}"
             destdir="${java-class-dir}"
             includes="**/*.java"
             debug="on"
             classpath="${java-class-dir}:${wl.home}/classes:${wl.home}/lib/unpacked_jars/jndi.jar:${wl.home}/lib/weblogicaux.jar"/>
   </target>

   <target name="deploy-jsp">
      <copy overwrite="yes" todir="${jsp-install-dir}">
         <fileset dir="${module-path}/${src-subpath}">
            <include name="*.jsp"/>
            <include name="*.htm"/>
            <include name="*.html"/>
            <include name="*.jpg"/>
            <include name="*.gif"/>
            <include name="*.css"/>
         </fileset>
      </copy>
   </target>

</project>
